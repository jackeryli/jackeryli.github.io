<!doctype html><html lang=en-us><head><link rel=stylesheet href=http://127.0.0.1/sass/main.min.bc941321ea6e4b4f68a0e9a2a166c8171ba83f72e5d4787133f55e47014149ca.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css integrity=sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons" rel=stylesheet><meta name=viewport content="width=device-width,initial-scale=1"><title>Jack Li</title><link rel=icon href=/img/favicon.ico type=image/x-icon><script src=https://identity.netlify.com/v1/netlify-identity-widget.js></script><script src=https://unpkg.com/netlify-cms@^2.3.1/dist/netlify-cms.js></script><script src=https://unpkg.com/netlify-auth-providers></script></head><body><div style=padding-top:80px><h1>How to use async-std</h1><p>Now, rust has two ways to write async functions, <code>async-std</code> and <code>tokio</code>.
Let&rsquo;s first start with <code>async-std</code>.</p><h3 id=add-dependencies-in-cargotoml>Add dependencies in Cargo.toml</h3><blockquote><p>Note that <code>attributes</code> is used for <code>#[async_std::main]</code>.</p></blockquote><p>Filename: Cargo.toml</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>[</span>dependencies<span style=color:#f92672>]</span>
async-std <span style=color:#f92672>=</span> <span style=color:#f92672>{</span> version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1.6.5&#34;</span>, features <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;attributes&#34;</span><span style=color:#f92672>]</span> <span style=color:#f92672>}</span>
</code></pre></div><h3 id=write-functions>Write functions</h3><p>Filename: src/hello.rs</p><blockquote><p><code>async main</code> requires return a <code>std::io::Result</code>.</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#75715e>#[async_std::main]</span>
async <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() -&gt; <span style=color:#a6e22e>std</span>::io::Result<span style=color:#f92672>&lt;</span>()<span style=color:#f92672>&gt;</span> {
    println<span style=color:#f92672>!</span>(<span style=color:#e6db74>&#34;hello world!&#34;</span>);
    Ok(())
}
</code></pre></div><h3 id=build-your-code>Build your code</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cargo run 
</code></pre></div></div></body></html>