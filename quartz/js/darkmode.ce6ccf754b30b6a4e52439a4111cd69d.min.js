const userPref=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",currentTheme=localStorage.getItem("theme")??userPref,syntaxTheme=document.querySelector("#theme-link"),codeTheme=document.querySelector("#code-theme");currentTheme&&(document.documentElement.setAttribute("saved-theme",currentTheme),syntaxTheme.href=currentTheme==="dark"?"https://jackeryli.github.io/quartz/styles/_dark_syntax.bec558461529f0dd343a0b008c343934.min.css":"https://jackeryli.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css");function setMermaidStyle(){mermaid.initialize({startOnLoad:!0,theme:currentTheme}),window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))}function setCodeBlockCss(e){var t=document.querySelectorAll("pre");t.forEach(function(t){e=="dark"?(t.style.color="white",t.style.backgroundColor="black",codeTheme.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"):(t.style.color="black",t.style.backgroundColor="white",codeTheme.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css")})}const switchTheme=e=>{e.target.checked?(document.documentElement.setAttribute("saved-theme","dark"),localStorage.setItem("theme","dark"),syntaxTheme.href="https://jackeryli.github.io/quartz/styles/_dark_syntax.bec558461529f0dd343a0b008c343934.min.css",setCodeBlockCss("dark")):(document.documentElement.setAttribute("saved-theme","light"),localStorage.setItem("theme","light"),syntaxTheme.href="https://jackeryli.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css",setCodeBlockCss("light")),setMermaidStyle(),location.reload()};window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#darkmode-toggle");e.addEventListener("change",switchTheme,!1),currentTheme==="dark"&&(e.checked=!0),setCodeBlockCss(currentTheme),setMermaidStyle()})